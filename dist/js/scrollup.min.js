class ScrollUp{static#instances=0;constructor(s={}){if(ScrollUp.#instances++,1<ScrollUp.#instances)throw new Error("Only one instance can be created class ScrollUp");this.setParameters(s),this.render(),this.startScrollUp(),this.controlFocus&&this.processFocus()}render(){var s,t;this.create&&(this.wrapper=document.createElement("div"),this.wrapper.classList.add(this.class+this.classWrapper),(s=document.createElement("div")).classList.add(this.classContainer,this.classContainer+"_"+this.class),this.wrapper.append(s),this.scrollup=document.createElement(this.mainElement),this.scrollup.classList.add(this.class),"a"===this.mainElement&&(this.scrollup.href="#"+this.id,document.querySelector(this.topElement).id=this.id),t=this.text?`<span class=${this.spanClass}>${this.text}</span>`:"",t+=this.createSvg?this.svg:"",this.scrollup.innerHTML+=t,s.append(this.scrollup),document.querySelector("body").append(this.wrapper))}startScrollUp(){this.scrollup.addEventListener("click",s=>this.handleСlick(s)),this.toggleBlock(),window.addEventListener("scroll",()=>this.toggleBlock())}toggleBlock(){this.isShow()?this.scrollup.classList.add(this.classShow):this.scrollup.classList.remove(this.classShow)}isShow(){return window.pageYOffset>=this.pointShow}"handleСlick"(s){s.preventDefault(),0<Math.max(document.body.scrollTop,document.documentElement.scrollTop)&&document.querySelector(this.topElement).scrollIntoView({behavior:this.behavior,block:"start"})}processFocus(){this.focusableElementsInBlock();let t=null,e=null,l=0;document.addEventListener("keydown",s=>{"Tab"!==s.key||s.shiftKey||(null!==t&&-1<l&&l<2&&(s.preventDefault(),t.focus(),t=this.focusableFirstElements[e],l++),null!==t&&2===l&&(t=null,e=null,l=0),this.isShow()&&-1<this.focusableLastElements.indexOf(s.target)&&(t=this.scrollup,e=this.focusableLastElements.indexOf(s.target)!==this.focusableLastElements.length-1?this.focusableLastElements.indexOf(s.target)+1:0))})}focusableElementsInBlock(){this.focusableLastElements=[],this.focusableFirstElements=[];document.querySelectorAll(this.classMainBlocks).forEach(s=>{s=s.querySelectorAll('a, button, input, select, textarea, [tabindex]:not([tabindex="-1"])');1<s.length?(this.focusableFirstElements.push(s[0]),this.focusableLastElements.push(s[s.length-2])):(this.focusableFirstElements.push(s[0]),this.focusableLastElements.push(0))});var s=this.focusableFirstElements.indexOf(this.scrollup);-1<s&&(this.focusableFirstElements.splice(s,1),this.focusableLastElements.splice(s,1))}setParameters(s){var t=defaultParameters();for(const e in t)this[e]=(s.hasOwnProperty(e)?s:t)[e]}}function defaultParameters(){return{behavior:"smooth",class:"scrollup",classContainer:"container",classMainBlocks:".container",classShow:"_show",classWrapper:"__wrapper",controlFocus:!0,create:!0,createSvg:!0,createText:!0,mainElement:"button",id:"up",pointShow:300,spanClass:"vh",svg:'<svg width="25" height="25" viewBox="0 0 25 25"><path d="m 9.9473107,7.814128 c -1.408866,1.406022 -7.680206,7.746709 -8.6319721,8.702894 -0.95176612,0.956183 0.4664356,2.361615 1.4053017,1.417191 0.9388661,-0.944424 8.0084927,-8.076235 8.6298877,-8.702895 0.621395,-0.62666 1.652894,-0.654462 2.301859,0 0.648964,0.654461 7.678015,7.748219 8.629886,8.702895 0.951871,0.954676 2.346023,-0.471208 1.405303,-1.417191 -0.94072,-0.945984 -7.195426,-7.271297 -8.631972,-8.702894 -1.436546,-1.431596 -3.699427,-1.406021 -5.1082933,0 z"/></svg>',text:"В начало страницы",topElement:"body"}}